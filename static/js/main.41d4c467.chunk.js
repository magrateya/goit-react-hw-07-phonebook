(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{16:function(t,e,n){t.exports={contactList:"ContactList_contactList__1oeAe",contactItem:"ContactList_contactItem__3aMz5"}},17:function(t,e,n){t.exports={nameLabel:"ContactForm_nameLabel__1uEXA",formBtn:"ContactForm_formBtn__1Hhzf"}},22:function(t,e,n){t.exports={filterLabel:"Filter_filterLabel__GbLne",filterTitle:"Filter_filterTitle__2mdBp"}},33:function(t,e,n){t.exports={section:"Section_section__Dg6q6"}},50:function(t,e,n){},89:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n.n(r),o=n(14),i=n.n(o),u=n(9),s=(n(50),n(33)),b=n.n(s);function l(t){var e=t.children;return Object(c.jsx)("div",{className:b.a.section,children:e})}var j=n(38),d=n(17),O=n.n(d),f=n(13),m=n.n(f),h=n(4),p=Object(h.b)("contacts/fetchContactRequest"),x=Object(h.b)("contacts/fetchContactSuccess"),v=Object(h.b)("contacts/fetchContactError"),g=Object(h.b)("contacts/addContactRequest"),y=Object(h.b)("contacts/addContactSuccess"),L=Object(h.b)("contacts/addContactError"),C=Object(h.b)("contacts/deleteContactRequest"),_=Object(h.b)("contacts/deleteContactSuccess"),w=Object(h.b)("contacts/deleteContactError"),q=Object(h.b)("contact/changeFilter");m.a.defaults.baseURL="http://localhost:4040";var N=n(15),k=function(t){return t.contacts.items},F=function(t){return t.contacts.filter},S=function(t){return t.contacts.loading},B=function(t){return t.contacts.error},E=Object(N.a)([k,F],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),Y=n(34),A=n(35),D=n(40),I=n(39),R=n(36),T=n.n(R),z=function(t){Object(D.a)(n,t);var e=Object(I.a)(n);function n(){return Object(Y.a)(this,n),e.apply(this,arguments)}return Object(A.a)(n,[{key:"render",value:function(){return Object(c.jsx)(T.a,{type:"Bars",color:"#227044",height:30,width:30,timeout:2e3})}}]),n}(a.a.Component);function J(){var t,e,n,r,a,o,i=Object(u.c)(k),s=Object(u.c)(S),b=Object(u.b)(),l=Object(j.a)(),d=l.register,f=l.handleSubmit,h=l.errors,p=l.reset;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("form",{onSubmit:f((function(t){var e,n;i.find((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))?alert("".concat(t.name," is already in contacts")):(b((e=t.name,n=t.number,function(t){var c={name:e,number:n};t(g()),m.a.post("/contacts",c).then((function(e){var n=e.data;return t(y(n))})).catch((function(e){return t(L(e))}))})),p({name:"",number:""}))})),children:[Object(c.jsxs)("label",{className:O.a.nameLabel,children:["Name",Object(c.jsx)("input",{ref:d({required:!0,maxLength:20,minLength:2}),type:"text",name:"name"}),"required"===(null===(t=h.name)||void 0===t?void 0:t.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is required'"}),"maxLength"===(null===(e=h.name)||void 0===e?void 0:e.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is too long'"}),"minLength"===(null===(n=h.name)||void 0===n?void 0:n.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is too short'"})]}),Object(c.jsxs)("label",{className:O.a.nameLabel,children:["Number",Object(c.jsx)("input",{ref:d({required:!0,maxLength:20,minLength:7}),type:"text",name:"number"}),"required"===(null===(r=h.number)||void 0===r?void 0:r.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is required'"}),"maxLength"===(null===(a=h.number)||void 0===a?void 0:a.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is too long'"}),"minLength"===(null===(o=h.number)||void 0===o?void 0:o.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is too short'"})]}),!s&&Object(c.jsx)("button",{className:O.a.formBtn,type:"submit",children:"Add contact"})]}),s&&Object(c.jsx)(z,{})]})}var M=n(16),G=n.n(M);function H(t){var e=t.id,n=t.name,r=t.number,a=t.onDeleteContact;return Object(c.jsxs)("li",{className:G.a.contactItem,children:[Object(c.jsx)("span",{children:n}),Object(c.jsx)("span",{children:r}),Object(c.jsx)("button",{type:"submit",onClick:function(){return a(e)},children:"Delete"})]})}var P=n.p+"static/media/disconnect.0307b2ad.jpg";function U(){var t=Object(u.c)(E),e=Object(u.c)(B),n=Object(u.b)();return Object(r.useEffect)((function(){return n((function(t){t(p()),m.a.get("/contacts").then((function(e){var n=e.data;return t(x(n))})).catch((function(e){return t(v(e))}))}))}),[n]),console.log(t),Object(c.jsx)(c.Fragment,{children:t.length>0&&!e?Object(c.jsx)("ul",{className:G.a.contactList,children:t.map((function(t){return Object(c.jsx)(H,{id:t.id,name:t.name,number:t.number,onDeleteContact:function(t){return n((e=t,function(t){t(C()),m.a.delete("/contacts/".concat(e)).then((function(){return t(_(e))})).catch((function(e){return t(w(e))}))}));var e}},t.id)}))}):Object(c.jsxs)("div",{children:[e&&Object(c.jsx)("h2",{children:e.message}),Object(c.jsx)("img",{src:P,alt:"disconnect",style:{width:"600px",marginTop:"20px"}})]})})}var X=n(22),K=n.n(X);function Q(){var t=Object(u.c)(F),e=Object(u.b)();return Object(c.jsxs)("label",{className:K.a.filterLabel,children:[Object(c.jsx)("span",{className:K.a.filterTitle,children:"Find contacts by name"}),Object(c.jsx)("input",{type:"text",value:t,onChange:function(t){return e(q(t.target.value))}})]})}function V(){return Object(c.jsxs)(l,{children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(J,{}),Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)(Q,{}),Object(c.jsx)(U,{})]})}var W,Z,$,tt=n(3),et=n(10),nt=n(37),ct=n.n(nt),rt=n(2),at=n(6),ot=Object(h.c)([],(W={},Object(rt.a)(W,x,(function(t,e){return e.payload})),Object(rt.a)(W,y,(function(t,e){var n=e.payload;return[].concat(Object(tt.a)(t),[n])})),Object(rt.a)(W,_,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),W)),it=Object(h.c)("",Object(rt.a)({},q,(function(t,e){return e.payload}))),ut=Object(h.c)(!1,(Z={},Object(rt.a)(Z,p,(function(){return!1})),Object(rt.a)(Z,x,(function(){return!1})),Object(rt.a)(Z,v,(function(){return!1})),Object(rt.a)(Z,g,(function(){return!0})),Object(rt.a)(Z,y,(function(){return!1})),Object(rt.a)(Z,L,(function(){return!1})),Object(rt.a)(Z,C,(function(){return!1})),Object(rt.a)(Z,_,(function(){return!1})),Object(rt.a)(Z,w,(function(){return!1})),Z)),st=Object(h.c)(null,($={},Object(rt.a)($,v,(function(t,e){return e.payload})),Object(rt.a)($,L,(function(t,e){return e.payload})),Object(rt.a)($,w,(function(t,e){return e.payload})),Object(rt.a)($,p,(function(){return null})),Object(rt.a)($,g,(function(){return null})),Object(rt.a)($,C,(function(){return null})),$)),bt=Object(at.c)({items:ot,filter:it,loading:ut,error:st}),lt=[].concat(Object(tt.a)(Object(h.d)({serializableCheck:{ignoredActions:[et.a,et.f,et.b,et.c,et.d,et.e]}})),[ct.a]),jt=Object(h.a)({reducer:{contacts:bt},middleware:lt});i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(u.a,{store:jt,children:Object(c.jsx)(V,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.41d4c467.chunk.js.map