(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{16:function(t,e,n){t.exports={contactList:"ContactList_contactList__1oeAe",contactItem:"ContactList_contactItem__3aMz5"}},17:function(t,e,n){t.exports={nameLabel:"ContactForm_nameLabel__1uEXA",formBtn:"ContactForm_formBtn__1Hhzf"}},22:function(t,e,n){t.exports={filterLabel:"Filter_filterLabel__GbLne",filterTitle:"Filter_filterTitle__2mdBp"}},33:function(t,e,n){t.exports={section:"Section_section__Dg6q6"}},50:function(t,e,n){},89:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n.n(r),o=n(14),i=n.n(o),s=n(9),u=(n(50),n(33)),b=n.n(u);function l(t){var e=t.children;return Object(c.jsx)("div",{className:b.a.section,children:e})}var j=n(38),d=n(17),O=n.n(d),m=n(13),f=n.n(m),h=n(5),p=Object(h.b)("contacts/fetchContactRequest"),x=Object(h.b)("contacts/fetchContactSuccess"),v=Object(h.b)("contacts/fetchContactError"),g=Object(h.b)("contacts/addContactRequest"),y=Object(h.b)("contacts/addContactSuccess"),L=Object(h.b)("contacts/addContactError"),C=Object(h.b)("contacts/deleteContactRequest"),_=Object(h.b)("contacts/deleteContactSuccess"),F=Object(h.b)("contacts/deleteContactError"),w=Object(h.b)("contact/changeFilter");f.a.defaults.baseURL="http://localhost:4040";var q=n(15),N=function(t){return t.contacts.items},k=function(t){return t.contacts.filter},B=function(t){return t.contacts.loading},S=Object(q.a)([N,k],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),E=n(34),Y=n(35),A=n(40),D=n(39),I=n(36),R=n.n(I),T=function(t){Object(A.a)(n,t);var e=Object(D.a)(n);function n(){return Object(E.a)(this,n),e.apply(this,arguments)}return Object(Y.a)(n,[{key:"render",value:function(){return Object(c.jsx)(R.a,{type:"Bars",color:"#00BFFF",height:30,width:30,timeout:2e3})}}]),n}(a.a.Component);function z(){var t,e,n,r,a,o,i=Object(s.c)(N),u=Object(s.c)(B),b=Object(s.b)(),l=Object(j.a)(),d=l.register,m=l.handleSubmit,h=l.errors,p=l.reset;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("form",{onSubmit:m((function(t){var e,n;i.find((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))?alert("".concat(t.name," is already in contacts")):(b((e=t.name,n=t.number,function(t){var c={name:e,number:n};t(g()),f.a.post("/contacts",c).then((function(e){var n=e.data;return t(y(n))})).catch((function(e){return t(L(e))}))})),p({name:"",number:""}))})),children:[Object(c.jsxs)("label",{className:O.a.nameLabel,children:["Name",Object(c.jsx)("input",{ref:d({required:!0,maxLength:20,minLength:2}),type:"text",name:"name"}),"required"===(null===(t=h.name)||void 0===t?void 0:t.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is required'"}),"maxLength"===(null===(e=h.name)||void 0===e?void 0:e.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is too long'"}),"minLength"===(null===(n=h.name)||void 0===n?void 0:n.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is too short'"})]}),Object(c.jsxs)("label",{className:O.a.nameLabel,children:["Number",Object(c.jsx)("input",{ref:d({required:!0,maxLength:20,minLength:7}),type:"text",name:"number"}),"required"===(null===(r=h.number)||void 0===r?void 0:r.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is required'"}),"maxLength"===(null===(a=h.number)||void 0===a?void 0:a.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is too long'"}),"minLength"===(null===(o=h.number)||void 0===o?void 0:o.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is too short'"})]}),!u&&Object(c.jsx)("button",{className:O.a.formBtn,type:"submit",children:"Add contact"})]}),u&&Object(c.jsx)(T,{})]})}var J=n(16),M=n.n(J);function G(t){var e=t.id,n=t.name,r=t.number,a=t.onDeleteContact;return Object(c.jsxs)("li",{className:M.a.contactItem,children:[Object(c.jsx)("span",{children:n}),Object(c.jsx)("span",{children:r}),Object(c.jsx)("button",{type:"submit",onClick:function(){return a(e)},children:"Delete"})]})}var H=n.p+"static/media/disconnect.0307b2ad.jpg";function P(){var t=Object(s.c)(S),e=Object(s.b)();return Object(r.useEffect)((function(){return e((function(t){t(p()),f.a.get("/contacts").then((function(e){var n=e.data;return t(x(n))})).catch((function(e){return t(v(e))}))}))}),[e]),console.log(t),Object(c.jsx)(c.Fragment,{children:t.length>0?Object(c.jsx)("ul",{className:M.a.contactList,children:t.map((function(t){return Object(c.jsx)(G,{id:t.id,name:t.name,number:t.number,onDeleteContact:function(t){return e((n=t,function(t){t(C()),f.a.delete("/contacts/".concat(n)).then((function(){return t(_(n))})).catch((function(e){return t(F(e))}))}));var n}},t.id)}))}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:H,alt:"disconnect",style:{width:"600px",marginTop:"20px"}})})})})}var U=n(22),X=n.n(U);function K(){var t=Object(s.c)(k),e=Object(s.b)();return Object(c.jsxs)("label",{className:X.a.filterLabel,children:[Object(c.jsx)("span",{className:X.a.filterTitle,children:"Find contacts by name"}),Object(c.jsx)("input",{type:"text",value:t,onChange:function(t){return e(w(t.target.value))}})]})}function Q(){return Object(c.jsxs)(l,{children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(z,{}),Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)(K,{}),Object(c.jsx)(P,{})]})}var V,W,Z=n(3),$=n(10),tt=n(37),et=n.n(tt),nt=n(2),ct=n(6),rt=Object(h.c)([],(V={},Object(nt.a)(V,x,(function(t,e){return e.payload})),Object(nt.a)(V,y,(function(t,e){var n=e.payload;return[].concat(Object(Z.a)(t),[n])})),Object(nt.a)(V,_,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),V)),at=Object(h.c)("",Object(nt.a)({},w,(function(t,e){return e.payload}))),ot=Object(h.c)(!1,(W={},Object(nt.a)(W,p,(function(){return!1})),Object(nt.a)(W,x,(function(){return!1})),Object(nt.a)(W,v,(function(){return!1})),Object(nt.a)(W,g,(function(){return!0})),Object(nt.a)(W,y,(function(){return!1})),Object(nt.a)(W,L,(function(){return!1})),Object(nt.a)(W,C,(function(){return!1})),Object(nt.a)(W,_,(function(){return!1})),Object(nt.a)(W,F,(function(){return!1})),W)),it=Object(ct.c)({items:rt,filter:at,loading:ot}),st=[].concat(Object(Z.a)(Object(h.d)({serializableCheck:{ignoredActions:[$.a,$.f,$.b,$.c,$.d,$.e]}})),[et.a]),ut=Object(h.a)({reducer:{contacts:it},middleware:st});i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(s.a,{store:ut,children:Object(c.jsx)(Q,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.1cacb174.chunk.js.map