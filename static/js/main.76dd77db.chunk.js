(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{15:function(t,e,n){t.exports={contactList:"ContactList_contactList__1oeAe",contactItem:"ContactList_contactItem__3aMz5"}},16:function(t,e,n){t.exports={nameLabel:"ContactForm_nameLabel__1uEXA",formBtn:"ContactForm_formBtn__1Hhzf"}},21:function(t,e,n){t.exports={filterLabel:"Filter_filterLabel__GbLne",filterTitle:"Filter_filterTitle__2mdBp"}},32:function(t,e,n){t.exports={section:"Section_section__Dg6q6"}},45:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n.n(r),o=n(13),i=n.n(o),s=n(8),u=(n(45),n(32)),l=n.n(u);function b(t){var e=t.children;return Object(c.jsx)("div",{className:l.a.section,children:e})}var j=n(34),d=n(16),m=n.n(d),f=n(12),O=n.n(f),h=n(3),p=Object(h.b)("contacts/fetchContactRequest"),x=Object(h.b)("contacts/fetchContactSuccess"),v=Object(h.b)("contacts/fetchContactError"),L=Object(h.b)("contacts/addContactRequest"),y=Object(h.b)("contacts/addContactSuccess"),C=Object(h.b)("contacts/addContactError"),g=Object(h.b)("contacts/deleteContactRequest"),_=Object(h.b)("contacts/deleteContactSuccess"),q=Object(h.b)("contacts/deleteContactError"),N=Object(h.b)("contact/changeFilter");O.a.defaults.baseURL="http://localhost:4040";var w=n(14),k=function(t){return t.contacts.items},F=function(t){return t.contacts.filter},S=Object(w.a)([k,F],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}));function E(){var t,e,n,r,a,o,i=Object(s.c)(k),u=Object(s.b)(),l=Object(j.a)(),b=l.register,d=l.handleSubmit,f=l.errors,h=l.reset;return Object(c.jsxs)("form",{onSubmit:d((function(t,e){var n,c;i.find((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))?alert("".concat(t.name," is already in contacts")):(u((n=t.name,c=t.number,function(t){var e={name:n,number:c};t(L()),O.a.post("/contacts",e).then((function(e){var n=e.data;return t(y(n))})).catch((function(e){return t(C(e))}))})),h({name:"",number:""}))})),children:[Object(c.jsxs)("label",{className:m.a.nameLabel,children:["Name",Object(c.jsx)("input",{ref:b({required:!0,maxLength:20,minLength:2}),type:"text",name:"name"}),"required"===(null===(t=f.name)||void 0===t?void 0:t.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is required'"}),"maxLength"===(null===(e=f.name)||void 0===e?void 0:e.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is too long'"}),"minLength"===(null===(n=f.name)||void 0===n?void 0:n.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is too short'"})]}),Object(c.jsxs)("label",{className:m.a.nameLabel,children:["Number",Object(c.jsx)("input",{ref:b({required:!0,maxLength:20,minLength:7}),type:"text",name:"number"}),"required"===(null===(r=f.number)||void 0===r?void 0:r.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is required'"}),"maxLength"===(null===(a=f.number)||void 0===a?void 0:a.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is too long'"}),"minLength"===(null===(o=f.number)||void 0===o?void 0:o.type)&&Object(c.jsx)("span",{style:{color:"red"},children:"'Your input is too short'"})]}),Object(c.jsx)("button",{className:m.a.formBtn,type:"submit",children:"Add contact"})]})}var Y=n(15),B=n.n(Y);function A(t){var e=t.id,n=t.name,r=t.number,a=t.onDeleteContact;return Object(c.jsxs)("li",{className:B.a.contactItem,children:[Object(c.jsx)("span",{children:n}),Object(c.jsx)("span",{children:r}),Object(c.jsx)("button",{type:"submit",onClick:function(){return a(e)},children:"Delete"})]})}function D(){var t=Object(s.c)(S),e=Object(s.b)();return Object(r.useEffect)((function(){return e((function(t){t(p()),O.a.get("/contacts").then((function(e){var n=e.data;return t(x(n))})).catch((function(e){return t(v(e))}))}))}),[e]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("ul",{className:B.a.contactList,children:t.map((function(t){return Object(c.jsx)(A,{id:t.id,name:t.name,number:t.number,onDeleteContact:function(t){return e((n=t,function(t){t(g()),O.a.delete("/contacts/".concat(n)).then((function(){return t(_(n))})).catch((function(e){return t(q(e))}))}));var n}},t.id)}))})})}var I=n(21),R=n.n(I);function z(){var t=Object(s.c)(F),e=Object(s.b)();return Object(c.jsxs)("label",{className:R.a.filterLabel,children:[Object(c.jsx)("span",{className:R.a.filterTitle,children:"Find contacts by name"}),Object(c.jsx)("input",{type:"text",value:t,onChange:function(t){return e(N(t.target.value))}})]})}function T(){return Object(c.jsxs)(b,{children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(E,{}),Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)(z,{}),Object(c.jsx)(D,{})]})}var J,M=n(2),G=n(9),H=n(33),P=n.n(H),U=n(6),X=n(4),K=Object(h.c)([],(J={},Object(U.a)(J,x,(function(t,e){return e.payload})),Object(U.a)(J,y,(function(t,e){var n=e.payload;return[].concat(Object(M.a)(t),[n])})),Object(U.a)(J,_,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),J)),Q=Object(h.c)("",Object(U.a)({},N,(function(t,e){return e.payload}))),V=Object(X.c)({items:K,filter:Q}),W=[].concat(Object(M.a)(Object(h.d)({serializableCheck:{ignoredActions:[G.a,G.f,G.b,G.c,G.d,G.e]}})),[P.a]),Z=Object(h.a)({reducer:{contacts:V},middleware:W});i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(s.a,{store:Z,children:Object(c.jsx)(T,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.76dd77db.chunk.js.map